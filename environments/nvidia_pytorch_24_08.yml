# source: https://docs.nvidia.com/deeplearning/frameworks/pytorch-release-notes/rel-24-08.html
# but changed pytorch from 2.5 to 2.7 
name: nvidia_pytorch_24_08
channels:
  - nvidia
  - pytorch
  - conda-forge
  - defaults

dependencies:
  # Base
  - python=3.10
  
  # CUDA / GPU stack (from 24.08 container)  
  - nvidia/label/cuda-12.6.3::cuda-toolkit      # container uses CUDA 12.6 :contentReference[oaicite:1]{index=1}
  - cudnn=9.3.0.75                              # version given in release notes :contentReference[oaicite:2]{index=2}
  - nccl=2.22.3                                 # as per container spec :contentReference[oaicite:3]{index=3}

  # NVIDIA / ecosystem libs (as in 24.08 container)
  - tensorrt=10.3.0.26                         # TensorRT version in container :contentReference[oaicite:5]{index=5}
  - torch-tensorrt=2.5.0a0                     # matching version in container :contentReference[oaicite:6]{index=6}
  - conda-forge::nvidia-dali-python            # DALI version included in container :contentReference[oaicite:7]{index=7}
  - transformerengine=1.9                      # version in container :contentReference[oaicite:8]{index=8}

  # Common ML / data libraries
  - numpy
  - scipy
  - pandas
  - scikit-learn
  - matplotlib
  - jupyterlab

  # pip-only / extra dependencies
  - pip:
      - torch==2.7.0 --index-url https://download.pytorch.org/whl/cu126
      - torchvision==0.22.0 --index-url https://download.pytorch.org/whl/cu126
      - torchaudio==2.7.0 --index-url https://download.pytorch.org/whl/cu126
      # - --extra-index-url https://developer.download.nvidia.com/compute/redist/
      # - nvidia-dali-cuda126==1.40.0
      # - your_additional_python_packages_here
